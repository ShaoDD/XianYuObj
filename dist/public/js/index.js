define(["jquery","fastClick","Layer","IO"],function(a,n,t,r){function l(){var a=new Date,n=a.getFullYear(),t=a.getMonth()+1;return 2==t?n%4==0?29:28:1==t||3==t||5==t||7==t||8==t||10==t||12==t?31:30}a(function(){a("#day2").focus()}),a(".month").click(function(){"2"==a(".month:checked").val()?a(".working-days").show():a(".working-days").hide()}),a(".confirm-btn").click(function(){var n=a(".month:checked").val(),r=a(".base-input").val();if(!r)return void t.alert("请填写基本工资");r=parseInt(r);var i=!0;a(".add-input").each(function(){a(this).val()||(i=!1)});var o=!0;a(".off-input").each(function(){a(this).val()||(o=!1)});var v=a(".late-input").val();if(!v)return void t.alert("请填写迟到扣款");v=parseInt(v);var e=a(".other-input").val();if(!e)return void t.alert("请填写其他扣款");e=parseInt(e);var u=a(".otherAdd-input").val();if(!u)return void t.alert("请填写其他增加");u=parseInt(u);var d=l(),f=Math.floor(r/d*100)/100,s=Math.floor(f/8*100)/100,c=Math.floor(s/60*100)/100;if(i)var p=f*parseInt(a(".add-input-day").val())+s*parseInt(a(".add-input-hours").val())+c*parseInt(a(".add-input-minutes").val());else t.alert("请填写加班时间");if(o)var h=f*parseInt(a(".off-input-day").val())+s*parseInt(a(".off-input-hours").val())+c*parseInt(a(".off-input-minutes").val());else t.alert("请填写请假时间");var y;if(2==n){var m=a(".day-input").val();m?(m=parseInt(m),y=(m*f+p+u-h-v-e).toFixed(2)):t.alert("请填写在职天数")}else y=(r+p+u-h-v-e).toFixed(2);a(".warning").html(y)}),a(document).keydown(function(n){13==n.keyCode&&(a("#min2").is(":focus")?(a(".add-btn").click(),a("#day2").focus()):a("#hour2").is(":focus")?a("#min2").focus():a("#day2").is(":focus")&&a("#hour2").focus())}),a(".add-btn").click(function(){var n=a("#min1").val(),t=a("#hour1").val(),r=a("#day1").val(),l=a("#min2").val(),i=a("#hour2").val(),o=a("#day2").val();""==n&&(n=0),""==t&&(t=0),""==r&&(r=0),""==l&&(l=0),""==i&&(i=0),""==o&&(o=0),n=parseInt(n),t=parseInt(t),r=parseInt(r),l=parseInt(l),i=parseInt(i),o=parseInt(o);var v=r+o,e=t+i,u=n+l;u>=60&&(e+=Math.floor(u/60),u-=60*Math.floor(u/60)),e>=8&&(v+=Math.floor(e/8),e-=8*Math.floor(e/8)),a("#min1").val(u),a("#hour1").val(e),a("#day1").val(v),a("#min2").val(""),a("#hour2").val(""),a("#day2").val(""),a("#min3").val(n),a("#hour3").val(t),a("#day3").val(r)}),a(".clear-btn").click(function(){a("#min3").val(parseInt(a("#min1").val())),a("#hour3").val(parseInt(a("#hour1").val())),a("#day3").val(parseInt(a("#day1").val())),a("#min1").val(0),a("#hour1").val(0),a("#day1").val(0),a("#min2").val(""),a("#hour2").val(""),a("#day2").val("")}),a(".return-btn").click(function(){a("#min1").val(parseInt(a("#min3").val())),a("#hour1").val(parseInt(a("#hour3").val())),a("#day1").val(parseInt(a("#day3").val()))}),a(".next-add-btn").click(function(){a(".add-input-day").val(a("#day1").val()),a(".add-input-hours").val(a("#hour1").val()),a(".add-input-minutes").val(a("#min1").val())}),a(".next-off-btn").click(function(){a(".off-input-day").val(a("#day1").val()),a(".off-input-hours").val(a("#hour1").val()),a(".off-input-minutes").val(a("#min1").val())})});