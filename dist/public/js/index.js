define(["jquery","fastClick","Layer","IO"],function(a,n,t,l){function r(){var n=new Date,t=n.getFullYear(),l=a(".month-select").val();return 2==l?t%4==0?29:28:1==l||3==l||5==l||7==l||8==l||10==l||12==l?31:30}a(function(){a("#day2").focus();var n=new Date,t=n.getMonth()+1;a(".month-select").val(t)}),a(".month").click(function(){"2"==a(".month:checked").val()?a(".working-days").show():a(".working-days").hide()}),a(".confirm-btn").click(function(){var n=a(".month:checked").val(),l=a(".base-input").val();if(!l)return void t.alert("请填写基本工资");l=parseInt(l);var i=!0;a(".add-input").each(function(){a(this).val()||(i=!1)});var o=!0;a(".off-input").each(function(){a(this).val()||(o=!1)});var e=a(".late-input").val();if(!e)return void t.alert("请填写迟到扣款");e=parseInt(e);var v=a(".other-input").val();if(!v)return void t.alert("请填写其他扣款");v=parseInt(v);var u=a(".otherAdd-input").val();if(!u)return void t.alert("请填写其他增加");u=parseInt(u);var d=r(),f=Math.floor(l/d*100)/100,s=Math.floor(f/8*100)/100,c=Math.floor(s/60*100)/100;if(i)var h=f*parseInt(a(".add-input-day").val())+s*parseInt(a(".add-input-hours").val())+c*parseInt(a(".add-input-minutes").val());else t.alert("请填写加班时间");if(o)var p=f*parseInt(a(".off-input-day").val())+s*parseInt(a(".off-input-hours").val())+c*parseInt(a(".off-input-minutes").val());else t.alert("请填写请假时间");var m;if(2==n){var y=a(".day-input").val();y?(y=parseInt(y),m=(y*f+h+u-p-e-v).toFixed(2)):t.alert("请填写在职天数")}else m=(l+h+u-p-e-v).toFixed(2);a(".warning").html(m)}),a(document).keydown(function(n){13==n.keyCode&&(a("#min2").is(":focus")?(a(".add-btn").click(),a("#day2").focus()):a("#hour2").is(":focus")?a("#min2").focus():a("#day2").is(":focus")&&a("#hour2").focus())}),a(".add-btn").click(function(){var n=a("#min1").val(),t=a("#hour1").val(),l=a("#day1").val(),r=a("#min2").val(),i=a("#hour2").val(),o=a("#day2").val();""==n&&(n=0),""==t&&(t=0),""==l&&(l=0),""==r&&(r=0),""==i&&(i=0),""==o&&(o=0),n=parseInt(n),t=parseInt(t),l=parseInt(l),r=parseInt(r),i=parseInt(i),o=parseInt(o);var e=l+o,v=t+i,u=n+r;u>=60&&(v+=Math.floor(u/60),u-=60*Math.floor(u/60)),v>=8&&(e+=Math.floor(v/8),v-=8*Math.floor(v/8)),a("#min1").val(u),a("#hour1").val(v),a("#day1").val(e),a("#min2").val(""),a("#hour2").val(""),a("#day2").val(""),a("#min3").val(n),a("#hour3").val(t),a("#day3").val(l)}),a(".clear-btn").click(function(){a("#min3").val(parseInt(a("#min1").val())),a("#hour3").val(parseInt(a("#hour1").val())),a("#day3").val(parseInt(a("#day1").val())),a("#min1").val(0),a("#hour1").val(0),a("#day1").val(0),a("#min2").val(""),a("#hour2").val(""),a("#day2").val("")}),a(".return-btn").click(function(){a("#min1").val(parseInt(a("#min3").val())),a("#hour1").val(parseInt(a("#hour3").val())),a("#day1").val(parseInt(a("#day3").val()))}),a(".next-add-btn").click(function(){a(".add-input-day").val(a("#day1").val()),a(".add-input-hours").val(a("#hour1").val()),a(".add-input-minutes").val(a("#min1").val())}),a(".next-off-btn").click(function(){a(".off-input-day").val(a("#day1").val()),a(".off-input-hours").val(a("#hour1").val()),a(".off-input-minutes").val(a("#min1").val())})});